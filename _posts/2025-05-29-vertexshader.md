---
title: "25.05.29 / 버텍스 셰이더(Vertex Shader), 픽셀 셰이더(Pixel Shader)"
excerpt: ""

categories:
  - Computer
  - Graphics
tags:
  - []

toc: true
toc_sticky: true

date: 2025-05-29
last_modified_at: 2025-05-29
---

### **1\. 버텍스 셰이더(Vertex Shader)**
#### **1) 하는 일**
- **정점 데이터 처리**: 버텍스 셰이더는 모델을 구성하는 삼각형, 선분, 점 등의 버텍스(정점) 정보를 받아서 화면에 표시될 좌표로 변환한다.
- **월드 변환, 뷰 변환, 투영 변환**: 3D 공간 상의 객체를 적절한 행렬 연산(월드->뷰->투영)을 통해 2D 화면 좌표로 변환(Projection)한다.
- **조명 관련 계산(초기 단계)**: 각 정점에서 필요한 조명(Lighting) 계산의 일부나 노말(법선 벡터) 변환 등의 사전 작업을 수행한다.
- **UV 좌표, 색상 등의 속성 처리**: 텍스처 매핑을 위해 정점별 UV 좌표를 처리하거나, 모델에 지정된 정점 색상을 넘길 때도 버텍스 셰이더가 담당한다.

#### **2) 주요 특징**
- **입력**: 주로 정점 위치, 정점 색상, 노멀, UV 좌표 등
- **출력**: 스크린 스페이스로 변환된 정점 위치, 그리고 픽셀 셰이더에 넘길 다양한 속성(색상, 텍스처 좌표, 라이팅 정보 등)
- **주요 역할**: 기하 정보를 화면에 맞게 변환하고, 픽셀 셰이더가 올바른 정보를 받아 올바른 색을 계산할 수 있도록 준비

---

### **2\. 픽셀 셰이더(Pixel/Fragment Shader)**
**OpenGL에서는 '프래그먼트 셰이더(Fragment Shader)', DirectX에서는 '픽셀 셰이더(Pixel Shader)'라고 부른다**. 내용적으로는 거의 동일하며, 본 글에선 '픽셀 셰이더'라고 칭하겠다.

#### **1) 하는 일**
- **픽셀 별 색상 계산**: 각 픽셀에 대해 최종적으로 어떤 색상이 표현되어야 할지를 계산한다.
- **라이팅/쉐이딩(Shading) 연산**: 표면에 빛이 어떻게 반사되는지, 간접광이나 그림자 등을 어떻게 적용할지 등의 조명 연산을 수행한다.
- **텍스처 매핑**: 알베도 텍스처, 노멀 맵, 러프니스 맵 등 다양한 텍스처 샘플링과 그에 따른 색상/질감을 계산한다.
- **후처리 효과**: Bloom, Fog, Color Correction 등 특정 픽셀마다 화면 효과를 줄 때 사용하기도 한다(이 단계는 별도의 후처리 셰이더 패스에서 이루어질 수도 있다).

#### **2) 주요 특징**
- **입력**: 버텍스 셰이더가 넘긴 보간된(Interpolated) 데이터(예: 정점 위치, UV, 라이팅 정보 등), 여러 텍스처, 조명/재질 변수
- **출력**: 최종 픽셀 색상(또는 MRT, Multiple Render Target를 사용해 여러 렌더 대상에 추가 정보 출력 가능)
- **주요 역할**: 화면에 표시될 최종 색을 결저앟는 단계, 눈에 보이는 결과물의 품질과 분위기를 크게 좌우함

---

### **3\. 버텍스 셰이더와 픽셀 셰이더의 관계**
1. **버텍스 셰이더에서 변환**: 모델의 정점들을 월드->뷰->투영 행렬 등을 거쳐 '클립 스페이스(Clip Space)' 좌표로 변환하고, 필요한 정보를 픽셀 셰이더에 넘길 준비를 한다.
2. **래스터라이즈(Rasterize)**: 버텍스 단위로 넘어온 데이터가 삼각형 등 기하도형으로 렌더링되면서 픽셀 단위로 잘게 나뉜다.
3. **픽셀 셰이더 처리**: 각 픽셀 단위로 텍스처, 라이팅, 그림자 등의 쉐이딩을 계산하여 최종 색상 값을 얻는다.

결국 GPU 렌더링 파이프라인에서 버텍스 셰이더 -> 래스터라이즈 -> 픽셀 셰이더로 이어지는 순서대로 작동하며, **버텍스 셰이더는 '기하 변환', 픽셀 셰이더는 '화면에 출력될 최종 색상 계산'**이라는 역할로 구분할 수 있다.

---

### **4\. 한 단계 더**
- **지오메트리 셰이더(Geometry Shader)**: 정점과 정점 사이에 새로운 기하 도형을 생성하거나 변형할 때 사용한다.
- **테셀레이션 셰이더(Tessellation Shader)**: 모델을 더 세밀하게 분할해서 높은 디테일을 만들 때 사용한다.
- **컴퓨트 셰이더(Compute Shader)**: 일반적인 렌더링 파이프라인 밖에서 GPU 연산을 수행하기 위해 사용한다.

위의 세 가지는 별도의 글로 다뤄볼 예정이라, 간단하게만 적었다.

---

### **5\. 정리**
- **버텍스 셰이더**: 정점 데이터 변환 & 속성 준비
- **픽셀 셰이더**: 각 픽셀 단위로 실제 색상, 라이팅, 텍스처, 후처리 등을 계산하여 최종 이미지 생성
