---
title: "25.03.06 / 숏서킷(Short Circuit)"
excerpt: ""

categories:
  - Programming
tags:
  - []

toc: true
toc_sticky: true

date: 2025-03-06
last_modified_at: 2025-04-23
---

숏 서킷 룰이란 좌항만으로 && (AND 연산)과 \|\| (OR 연산)의 결과를 판별하는 기능이다.

예를 들어 &&의 좌항이 거짓인 경우 우항에 관계없이 결과값이 거짓이기 때문에 우항을 실행하지 않는다.

반대로 \|\|의 좌항이 참인 경우 우항에 관계없이 결과값이 참이기 때문에 우항을 실행하지 않는다.

이걸 이용하면 불필요한 연산을 줄여 실행 속도를 높일 수 있으나, 우항이 실행되길 원하는데 그렇지 못할 경우 예상치 못한 결과를 만들 수 있으니 주의해야 한다.

```c
#include <stdio.h>

int main() {
    a = 1, b = 0;
    int result1 = 0 || (a = 10);
    printf("a : %d\n", a); // 결괏값 a = 10

    a = 1, b = 0;
    int result2 = 1 || (a = 10);
    printf("a : %d\n", a); // 결괏값 a = 1

    return 0;
}
```

그럼 이런 문제는 어떨까?

```c
int a = 9, b = 4, c = 7, d = 1, e = 3;
while ((a = 1) == 1 && (b = 2) == 3 && (c = 3) == 3 || (d = 4) == 4 || (e = 5) == 7) {
	printf("%d %d %d %d %d\n", a, b, c, d, e);
	break;
}
```

```text
정답
1 2 7 4 3 이 출력된다. 

해설
1번 조건
(a=1) == 1 && (b=2) == 3
좌항 참조해서 a=1, 좌항이 참인 AND 연산은 우항도 참조하니까 b = 2, 결과는 거짓

2번 조건
(a=1) == 1 && (b=2) == 3 && (c=3) == 3
1번조건이 거짓이기 때문에 좌항이 거짓인 AND 연산은 좌항만 참조해서 c = 7, 결과는 거짓

3번조건
(a=1) == 1 && (b=2) == 3 && (c=3) == 3 || (d=4) == 4
2번 조건이 거짓이기 때문에 좌항이 거짓인 OR 연산 은 우항도 참조함, d = 4, 결과는 참

4번조건 
(a=1) == 1 && (b=2) == 3 && (c=3) == 3 || (d=4) == 4 || (e=5) == 7
3번 조건이 참이기 때문에 좌항이 참인 OR 연산은 우항을 참조하지 않음. e = 3, 결과는 참

a=1 b=2 c=7 d=4 e=3 가 되고 while (true) {} 이기 때문에 출력 코드는 작동함.
```
